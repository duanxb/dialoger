!function(e,t){"use strict";var n={hasClass:function(e,t){return 0!=(t=t||"").replace(/\s/g,"").length&&new RegExp(" "+t+" ").test(" "+e.className+" ")},addClass:function(e,t){n.hasClass(e,t)||(e.className=""==e.className?t:e.className+" "+t)},removeClass:function(e,t){if(n.hasClass(e,t)){for(var o=" "+e.className.replace(/[\t\r\n]/g,"")+" ";o.indexOf(" "+t+" ")>=0;)o=o.replace(" "+t+" "," ");e.className=o.replace(/^\s+|\s+$/g,"")}},link:function(t,n,o){var a=document.head,l=document.createElement("link");"string"==typeof n&&(o=n);var c="dialoger-"+(o||t).replace(/\.|\//g,""),i=0;l.rel="stylesheet",l.href=t,l.id=c,document.querySelector("#"+c)||a.appendChild(l),"function"==typeof n&&function t(){if(++i>80)return e.console&&console.error("dialoger.css: Invalid");1989===parseInt(document.querySelector("#"+c).style.width)?n():setTimeout(t,100)}()},removeElem:function(e){var t=document.querySelector("#"+e);t&&document.body.removeChild(t)},lockScroll:function(){n.addClass(document.body,"dialoger-open")},unLockScroll:function(){n.removeClass(document.body,"dialoger-open")},isDOM:"object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}},o={v:"1.0.1",ready:function(e){o.modalItems=[];return n.link("css/mc-dialoger.css?v="+o.v+"1110",e,"skindialogercss"),this},alert:function(e){function t(){"function"==typeof callback&&callback(),document.querySelector("#alertbtn").removeEventListener("click",function(){t()}),n.unLockScroll(),document.body.removeChild(a)}e||(e={}),e.btnTxt||(e.btnTxt="确定");var o="DIALOG_ALERT";n.removeElem(o);var a=document.createElement("div");a.className="mc-dialoger-bg",a.id=o,e.stylename&&n.addClass(a,e.stylename);var l='<div class="popup alert-poput">';return e.title&&(l+='<div class="title">'+e.title+"</div>"),l+='<div class="text">'+e.mes+"</div>",l+='<div class="foot">',l+='<span class="button primary" id="alertbtn">'+e.btnTxt+"</span>",l+="</div>",l+="</div>",a.innerHTML=l,document.body.appendChild(a),n.lockScroll(),document.querySelector("#alertbtn").addEventListener("click",function(){t()},!1),e.timeout&&t(),!1},confirm:function(e){function t(t){var n=e.btns[t];"function"==typeof n.callback&&n.callback(),document.querySelectorAll(".confirm-btn").forEach(function(e,t){e.removeEventListener("click",function(){})}),document.body.removeChild(a)}e||(e={}),e.callback||(e.callback=function(){}),e.btns||(e.btns=[{txt:"取消",callback:null},{txt:"确定",callback:e.callback}]);var o="DIALOG_CONFIRM";n.removeElem(o);var a=document.createElement("div");a.className="mc-dialoger-bg",a.id=o,e.stylename&&n.addClass(a,e.stylename);var l='<div class="popup">';e.title&&(l+='<div class="title">'+e.title+"</div>"),l+='<div class="text">'+e.mes+"</div>",l+='<div class="foot">',e.btns.length>0&&e.btns.forEach(function(e,t){var n="";e.stylename&&(n=e.stylename),l+='<span class="button confirm-btn '+n+'" data-index="'+t+'">'+e.txt+"</span>"}),l+="</div>",l+="</div>",a.innerHTML=l,document.body.appendChild(a),document.querySelectorAll(".confirm-btn").forEach(function(e,n){e.addEventListener("click",function(){t(e.getAttribute("data-index"))},!1)})},loading:{open:function(e){e||(e={}),e.mes||(e.mes="正在加载"),e.type||(e.type=1);var t='<div class="loader"></div>';2==e.type&&(t='<div class="loader-ball-pulse"><div></div><div></div><div></div></div>');var n=document.createElement("div");n.className="mc-dialoger-loading",n.id="MC_DIALOG_LOADING";var o='<div class="box">\t\t\t\t\t\t\t\t'+t+'<div class="text">'+e.mes+"</div>\t\t\t\t\t\t\t</div>";n.innerHTML=o,document.body.appendChild(n)},close:function(){n.removeElem("MC_DIALOG_LOADING")}},toast:function(e){e||(e={}),e.type||(e.type=""),e.timeout||(e.timeout=2e3),clearTimeout(l);var t="DIALOG_TOAST";n.removeElem(t);var o=document.createElement("div");o.className="mc-dialoger-toast",o.id=t;var a='<div class="toast'+(e.type?" toast-icon":"")+'">';e.type&&(a+='<span class="icon '+e.type+'"></span>'),a+='<div class="title">'+e.mes+"</div>",a+="</div>",o.innerHTML=a,document.body.appendChild(o);var l=setTimeout(function(){n.removeElem(t),"function"==typeof e.callback&&e.callback()},e.timeout)},notify:function(e){e||(e={}),e.timeout||(e.timeout=3e3),clearTimeout(l);var t="DIALOG_NOTIFY";n.removeElem(t);var o=document.createElement("div");o.className="mc-dialoger-notify",o.id=t;var a='<div class="text">'+e.mes+"</div>";o.innerHTML=a,document.body.appendChild(o);var l=setTimeout(function(){n.addClass(o,"notify-out");var a=setTimeout(function(){n.removeElem(t),clearTimeout(a)},500);"function"==typeof e.callback&&e.callback()},e.timeout)},modal:{open:function(e){if(e||(e={}),!e.body||!e.id)return!1;n.isDOM(e.body)&&(e.body=e.body.innerHTML);var t="modal_"+e.id,a=document.querySelector("#"+t);if(a)return n.addClass(a,"show"),!1;var l=document.createElement("div");l.className="mc-dialoger-modal show",l.id=t,e.stylename&&n.addClass(l,e.stylename);var c='<div class="modal-box">';c+='<i class="close" id="close_'+t+'"></i>',e.title&&(c+='<div class="title">'+e.title+"</div>"),c+='<div class="body">'+e.body+"</div>",c+="</div>",l.innerHTML=c,document.body.appendChild(l),document.querySelector("#close_"+t).addEventListener("click",function(){o.modal.close(l.id)},!1)},close:function(e){var t=document.querySelector("#"+e);n.removeClass(t,"show")}}};o.ready(),e.dialoger={$loading:o.loading,$alert:o.alert,$confirm:o.confirm,$toast:o.toast,$notify:o.notify,$modal:o.modal}}(window);